!function(){function e(e,t,o){for(var s=document.getElementsByClassName(e),n=document.getElementsByClassName(t),i=window.innerHeight||document.body.clientHeight,a=6;a<s.length;a++)i<=o&&"pc"===deviceVal?(s[a].style.display="none",n[0].style.marginTop="5px"):(s[a].style.display="block",n[0].style.marginTop="0px")}window.onresize=function(){e("i-link-box","linkList-item",845)},window.onload=function(){e("i-link-box","linkList-item",845)},window.ShowHideElement=e}();var now=-1,resLength=0,listIndex=-1,hotList=0,thisSearch="https://www.baidu.com/s?wd=",thisSearchIcon="./logo.jpg",storage=window.localStorage;storage.stopHot||(storage.stopHot=!0),"false"==storage.stopHot?$("#hot-btn").prop("checked",!1):$("#hot-btn").prop("checked",!0);var ssData=storage.searchEngine;function getHotkeyword(e){$.ajax({type:"GET",url:"https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",async:!0,data:{wd:e},dataType:"jsonp",jsonp:"cb",success:function(e){if($("#box ul").text(""),hotList=e.s.length){$("#box").css("display","block");for(var t=0;t<hotList;t++)t===hotList-1?$("#box ul").append('<li id="lastHot"><span>'+(t+1)+"</span>"+e.s[t]+"</li>"):$("#box ul").append("<li><span>"+(t+1)+"</span>"+e.s[t]+"</li>"),$("#box ul li").eq(t).click(function(){$("#txt").val(this.childNodes[1].nodeValue),window.open(thisSearch+this.childNodes[1].nodeValue),$("#box").css("display","none")}),0===t?($("#box ul li").eq(t).css({"border-top":"none"}),$("#box ul span").eq(t).css({color:"#fff",background:"#f54545"})):1===t?$("#box ul span").eq(t).css({color:"#fff",background:"#ff8547"}):2===t&&$("#box ul span").eq(t).css({color:"#fff",background:"#ffac38"})}else $("#box").css("display","none")},error:function(e){console.log(e)}})}null!=storage.searchEngine&&(ssData=ssData.split(","),thisSearch=ssData[0],$("#search-icon").children().attr("xlink:href",ssData[1]),$("#txt").attr("placeholder",ssData[2])),$("#txt").keyup(function(e){if($(this).val()){if(38==e.keyCode||40==e.keyCode||"true"!=storage.stopHot)return;$("#search-clear").css("display","block"),getHotkeyword($(this).val())}else $("#search-clear").css("display","none"),$("#box").css("display","none")}),$("#txt").keydown(function(e){if(40===e.keyCode){listIndex===hotList-1?listIndex=0:listIndex++,$("#box ul li").eq(listIndex).addClass("current").siblings().removeClass("current");var t=$("#box ul li").eq(listIndex)[0].childNodes[1].nodeValue;$("#txt").val(t)}if(38===e.keyCode){e.preventDefault&&e.preventDefault(),e.returnValue&&(e.returnValue=!1),0===listIndex||-1===listIndex?listIndex=hotList-1:listIndex--,$("#box ul li").eq(listIndex).addClass("current").siblings().removeClass("current");t=$("#box ul li").eq(listIndex)[0].childNodes[1].nodeValue;$("#txt").val(t)}13===e.keyCode&&(window.open(thisSearch+$("#txt").val()),$("#box").css("display","none"),$("#txt").blur(),$("#box ul li").removeClass("current"),listIndex=-1)}),$("#search-clear").click(function(){$("#txt").val(""),$("#search-clear").css("display","none"),$("#box").css("display","none"),console.log("清除输入框")}),$("#search-enter").click(function(){window.open(thisSearch+$("#txt").val())}),$("#txt").focus(function(){$(this).val()&&"true"==storage.stopHot&&getHotkeyword($(this).val())}),$("#txt").blur(function(){setTimeout(function(){$("#box").css("display","none")},100)}),$(function(){for(var e={data:[{name:"谷歌",icon:"icon-google",url:"https://www.google.com/search?q="},{name:"百度",icon:"icon-baidu",url:"https://www.baidu.com/s?wd="},{name:"必应",icon:"icon-biying1",url:"https://cn.bing.com/search?q="},{name:"爱奇艺",icon:"icon-aiqiyi",url:"https://so.iqiyi.com/so/q_"},{name:"优酷",icon:"icon-youku",url:"https://so.youku.com/search_video/q_"},{name:"GitHub",icon:"icon-gitHub",url:"https://github.com/search?utf8=✓&q="},{name:"知乎",icon:"icon-zhihu",url:"https://www.zhihu.com/search?type=content&q="},{name:"BiliBili",icon:"icon-bzhanicon",url:"http://search.bilibili.com/all?keyword="}]},t=0;t<e.data.length;t++){var o='<li><svg class="icon" aria-hidden = "true" ><use xlink:href="#'+e.data[t].icon+'"></use></svg>'+e.data[t].name+"</li > ";$(".search-engine-list").append(o)}$("#search-icon, .search-engine").hover(function(){$(".search-engine").css("display","block")},function(){$(".search-engine").css("display","none")}),$("#hot-btn").on("click",function(){"true"==storage.stopHot?($(this).prop("checked",!1),storage.stopHot=!1):(storage.stopHot=!0,$(this).prop("checked",!0)),console.log(storage.stopHot)}),$(".search-engine-list li").click(function(){var t=$(this).index(),o=$(this).children().children().attr("xlink:href"),s=$(this).text()+"搜索";console.log(s),$("#txt").attr("placeholder",s),$("#search-icon use").attr("xlink:href",o),thisSearch=e.data[t].url,$(".search-engine").css("display","none"),storage.searchEngine=[thisSearch,o,s]})});